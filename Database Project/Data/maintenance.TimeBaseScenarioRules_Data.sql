INSERT INTO [maintenance].[TimeBaseScenarioRules] ([ScenarioName], [RuleID], [RuleName], [RuleTrueCondition], [DestConnectionString], [DestVarFolderPath], [DestVarFilename], [RetantionDays], [ExistenceCheck], [Enabled]) VALUES (N'Clone Original Backup Scenario on qcsrvr', 1, N'Create Only
', N'SELECT CAST(1 AS BIT) AS RESULT
', N'<root><param name="protocol">UNC</param><param name="host">qcsrvr</param><param name="port">0</param><param name="sshhostkey"></param><param name="username"></param><param name="password"></param></root>', N'\\qcsrvr\e$\TempClone\{%SERVER_NAME%}\{%JL_YEAR_NUM%}_{%JL_MONTH_NUM%}_{%JL_DAYOFMONTH_NUM%}', N'{%FILE_NAME%}', N'{%RETANTION_DAYS%}', N'Check All', 1)
INSERT INTO [maintenance].[TimeBaseScenarioRules] ([ScenarioName], [RuleID], [RuleName], [RuleTrueCondition], [DestConnectionString], [DestVarFolderPath], [DestVarFilename], [RetantionDays], [ExistenceCheck], [Enabled]) VALUES (N'SqlDeep Distribution base scenario for backups on LINUX 192.168.1.10', 1, N'Daily LOG Files (Jalali)', N'SELECT CAST(CASE WHEN DATEDIFF(DAY,''{%GR_DATE%}'',CAST(GETDATE() AS DATE))<=8 AND ''{%BACKUP_TYPE%}''=''LOG'' THEN 1 ELSE 0 END AS BIT) AS RESULT', N'<root><param name="protocol">SCP</param><param name="host">aaa.bbb.ccc.ddd</param><param name="port">0</param><param name="sshhostkey">mySSHKey</param><param name="username">root</param><param name="password">rootPassword</param></root>', N'/local_backup/rman/daily/{%SERVER_NAME%}', N'{%FILE_NAME%}', N'9999', N'Check Catalog Record Existence', 1)
INSERT INTO [maintenance].[TimeBaseScenarioRules] ([ScenarioName], [RuleID], [RuleName], [RuleTrueCondition], [DestConnectionString], [DestVarFolderPath], [DestVarFilename], [RetantionDays], [ExistenceCheck], [Enabled]) VALUES (N'SqlDeep Distribution base scenario for backups on LINUX 192.168.1.10', 2, N'Weekly Files (Jalali)', N'SELECT CAST(CASE WHEN ''{%JL_DAYOFWEEK_NUM%}''=''01'' THEN 1 ELSE 0 END AS BIT) AS RESULT', N'<root><param name="protocol">SCP</param><param name="host">aaa.bbb.ccc.ddd</param><param name="port">0</param><param name="sshhostkey">mySSHKey</param><param name="username">root</param><param name="password">rootPassword</param></root>', N'/local_backup/rman/weekly/{%SERVER_NAME%}', N'{%FILE_NAME%}', N'9999', N'Check Catalog Record Existence', 1)
INSERT INTO [maintenance].[TimeBaseScenarioRules] ([ScenarioName], [RuleID], [RuleName], [RuleTrueCondition], [DestConnectionString], [DestVarFolderPath], [DestVarFilename], [RetantionDays], [ExistenceCheck], [Enabled]) VALUES (N'SqlDeep Distribution base scenario for backups on LINUX 192.168.1.10', 3, N'Monthly Files (Jalali)', N'SELECT CAST(CASE WHEN ''{%JL_DAYOFMONTH_NUM%}''=''01'' THEN 1 ELSE 0 END AS BIT) AS RESULT', N'<root><param name="protocol">SCP</param><param name="host">aaa.bbb.ccc.ddd</param><param name="port">0</param><param name="sshhostkey">mySSHKey</param><param name="username">root</param><param name="password">rootPassword</param></root>', N'/local_backup/rman/monthly/{%SERVER_NAME%}', N'{%FILE_NAME%}', N'9999', N'Check Catalog Record Existence', 1)
INSERT INTO [maintenance].[TimeBaseScenarioRules] ([ScenarioName], [RuleID], [RuleName], [RuleTrueCondition], [DestConnectionString], [DestVarFolderPath], [DestVarFilename], [RetantionDays], [ExistenceCheck], [Enabled]) VALUES (N'SqlDeep Distribution base scenario for backups on LINUX 192.168.1.10', 4, N'Yearly Files (Jalali)', N'SELECT CAST(CASE WHEN (''{%ISLEAPYEAR%}''=''1'' AND ''{%JL_MONTH_NUM%}''=''12'' AND ''{%JL_DAYOFMONTH_NUM%}''=''30'') OR (''{%ISLEAPYEAR%}''=''0'' AND ''{%JL_MONTH_NUM%}''=''12'' AND ''{%JL_DAYOFMONTH_NUM%}''=''29'') THEN 1 ELSE 0 END AS BIT) AS RESULT', N'<root><param name="protocol">SCP</param><param name="host">aaa.bbb.ccc.ddd</param><param name="port">0</param><param name="sshhostkey">mySSHKey</param><param name="username">root</param><param name="password">rootPassword</param></root>', N'/local_backup/rman/yearly/{%SERVER_NAME%}', N'{%FILE_NAME%}', N'9999', N'Check Catalog Record Existence', 1)
INSERT INTO [maintenance].[TimeBaseScenarioRules] ([ScenarioName], [RuleID], [RuleName], [RuleTrueCondition], [DestConnectionString], [DestVarFolderPath], [DestVarFilename], [RetantionDays], [ExistenceCheck], [Enabled]) VALUES (N'SqlDeep Distribution base scenario for backups on LINUX 192.168.1.10', 5, N'Daily FULL Files (Jalali)', N'SELECT CAST(CASE WHEN DATEDIFF(DAY,''{%GR_DATE%}'',CAST(GETDATE() AS DATE))<=8 AND ''{%BACKUP_TYPE%}''=''FULL'' THEN 1 ELSE 0 END AS BIT) AS RESULT', N'<root><param name="protocol">SCP</param><param name="host">aaa.bbb.ccc.ddd</param><param name="port">0</param><param name="sshhostkey">mySSHKey</param><param name="username">root</param><param name="password">rootPassword</param></root>', N'/local_backup/rman/daily_full/{%SERVER_NAME%}', N'{%FILE_NAME%}', N'9999', N'Check Catalog Record Existence', 1)
INSERT INTO [maintenance].[TimeBaseScenarioRules] ([ScenarioName], [RuleID], [RuleName], [RuleTrueCondition], [DestConnectionString], [DestVarFolderPath], [DestVarFilename], [RetantionDays], [ExistenceCheck], [Enabled]) VALUES (N'SqlDeep Distribution base scenario for exports on LINUX 192.168.1.10', 1, N'Daily Files (Jalali)', N'SELECT CAST(CASE WHEN DATEDIFF(DAY,''{%GR_DATE%}'',CAST(GETDATE() AS DATE))<=8 THEN 1 ELSE 0 END AS BIT) AS RESULT', N'<root><param name="protocol">SCP</param><param name="host">aaa.bbb.ccc.ddd</param><param name="port">0</param><param name="sshhostkey">mySSHKey</param><param name="username">root</param><param name="password">rootPassword</param></root>', N'/local_backup/export/daily/{%SERVER_NAME%}', N'{%FILE_NAME%}', N'9999', N'Check Catalog Record Existence', 1)
INSERT INTO [maintenance].[TimeBaseScenarioRules] ([ScenarioName], [RuleID], [RuleName], [RuleTrueCondition], [DestConnectionString], [DestVarFolderPath], [DestVarFilename], [RetantionDays], [ExistenceCheck], [Enabled]) VALUES (N'SqlDeep Distribution base scenario for exports on LINUX 192.168.1.10', 2, N'Weekly Files (Jalali)', N'SELECT CAST(CASE WHEN ''{%JL_DAYOFWEEK_NUM%}''=''01'' THEN 1 ELSE 0 END AS BIT) AS RESULT', N'<root><param name="protocol">SCP</param><param name="host">aaa.bbb.ccc.ddd</param><param name="port">0</param><param name="sshhostkey">mySSHKey</param><param name="username">root</param><param name="password">rootPassword</param></root>', N'/local_backup/export/weekly/{%SERVER_NAME%}', N'{%FILE_NAME%}', N'9999', N'Check Catalog Record Existence', 1)
INSERT INTO [maintenance].[TimeBaseScenarioRules] ([ScenarioName], [RuleID], [RuleName], [RuleTrueCondition], [DestConnectionString], [DestVarFolderPath], [DestVarFilename], [RetantionDays], [ExistenceCheck], [Enabled]) VALUES (N'SqlDeep Distribution base scenario for exports on LINUX 192.168.1.10', 3, N'Monthly Files (Jalali)', N'SELECT CAST(CASE WHEN ''{%JL_DAYOFMONTH_NUM%}''=''01'' THEN 1 ELSE 0 END AS BIT) AS RESULT', N'<root><param name="protocol">SCP</param><param name="host">aaa.bbb.ccc.ddd</param><param name="port">0</param><param name="sshhostkey">mySSHKey</param><param name="username">root</param><param name="password">rootPassword</param></root>', N'/local_backup/export/monthly/{%SERVER_NAME%}', N'{%FILE_NAME%}', N'9999', N'Check Catalog Record Existence', 1)
INSERT INTO [maintenance].[TimeBaseScenarioRules] ([ScenarioName], [RuleID], [RuleName], [RuleTrueCondition], [DestConnectionString], [DestVarFolderPath], [DestVarFilename], [RetantionDays], [ExistenceCheck], [Enabled]) VALUES (N'SqlDeep Distribution base scenario for exports on LINUX 192.168.1.10', 4, N'Yearly Files (Jalali)', N'SELECT CAST(CASE WHEN (''{%ISLEAPYEAR%}''=''1'' AND ''{%JL_MONTH_NUM%}''=''12'' AND ''{%JL_DAYOFMONTH_NUM%}''=''30'') OR (''{%ISLEAPYEAR%}''=''0'' AND ''{%JL_MONTH_NUM%}''=''12'' AND ''{%JL_DAYOFMONTH_NUM%}''=''29'') THEN 1 ELSE 0 END AS BIT) AS RESULT', N'<root><param name="protocol">SCP</param><param name="host">aaa.bbb.ccc.ddd</param><param name="port">0</param><param name="sshhostkey">mySSHKey</param><param name="username">root</param><param name="password">rootPassword</param></root>', N'/local_backup/export/yearly/{%SERVER_NAME%}', N'{%FILE_NAME%}', N'9999', N'Check Catalog Record Existence', 1)
